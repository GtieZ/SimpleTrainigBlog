{"ast":null,"code":"var _jsxFileName = \"/home/kiko/Escritorio/front-end Training/react_training/src/components/Article.js\";\nimport React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport Moment from 'react-moment';\nimport 'moment/locale/es';\nimport Sidebar from './Sidebar';\nimport Global from '../Global';\nimport ImageDefault from '../assets/images/default.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Article extends Component {\n  constructor() {\n    super(...arguments);\n    this.url = Global.url;\n    this.state = {\n      article: false,\n      status: null\n    };\n\n    this.getArticle = () => {\n      let id = this.props.match.params.id;\n      let endpoint = this.url + '/article/' + id;\n      axios.get(endpoint).then(res => {\n        this.setState({\n          article: res.data.article,\n          status: 'success'\n        });\n      });\n    };\n\n    this.deleteArticle = id => {\n      swal({\n        title: \"¿Está seguro?\",\n        text: \"El articulo se borrará de manera permanente\",\n        icon: \"warning\",\n        buttons: true,\n        dangerMode: true\n      }).then(willDelete => {\n        if (willDelete) {\n          let endpoint = this.url + 'article/' + id;\n          axios.delete(endpoint).then(res => {\n            this.setState({\n              article: res.data.article,\n              status: 'deleted'\n            });\n          });\n          swal(\"Artículo borrado\", \"El artículo se ha borrado correctamente.\", \"success\");\n        } else {\n          swal(\"Tranquilo\", \"No se ha borrado nada.\", \"success\");\n        }\n      });\n    };\n  }\n\n  dateFormater(date) {\n    let fDate = new Date(date);\n    return fDate.toString();\n  }\n\n  componentWillMount() {\n    this.getArticle();\n  }\n\n  render() {\n    if (this.state.status === 'deleted') {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/blog\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this);\n    }\n\n    const article = this.state.article;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"content\",\n        children: article ? /*#__PURE__*/_jsxDEV(\"article\", {\n          className: \"article-item article-detail\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"image-wrap\",\n            children: article.image != null ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: this.url + 'get-image/' + article.image,\n              alt: article.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 29\n            }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n              src: ImageDefault\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"subheader\",\n            children: [\" \", article.title, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"date\",\n            children: /*#__PURE__*/_jsxDEV(Moment, {\n              locale: \"es\",\n              fromNow: true,\n              children: this.dateFormater(article.date)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: article.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              this.deleteArticle(article._id);\n            },\n            className: \"btn btn-danger\",\n            children: \"Eliminar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: '/blog/edit/' + article._id,\n            className: \"btn btn-warning\",\n            children: \"Editar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 26\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"clearfix\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 22\n        }, this) : /*#__PURE__*/_jsxDEV(\"article\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"subheader\",\n            children: \"El art\\xEDculo no existe\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 24\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No se ha encontrado ning\\xFAn art\\xEDculo.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 24\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 23\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(Sidebar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clearfix\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 14\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 4\n    }, this);\n  }\n\n}\n\nexport default Article;","map":{"version":3,"sources":["/home/kiko/Escritorio/front-end Training/react_training/src/components/Article.js"],"names":["React","Component","Link","Redirect","axios","swal","Moment","Sidebar","Global","ImageDefault","Article","url","state","article","status","getArticle","id","props","match","params","endpoint","get","then","res","setState","data","deleteArticle","title","text","icon","buttons","dangerMode","willDelete","delete","dateFormater","date","fDate","Date","toString","componentWillMount","render","image","content","_id"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport Moment from 'react-moment';\nimport 'moment/locale/es';\n\nimport Sidebar from './Sidebar';\n\nimport Global from '../Global';\nimport ImageDefault from '../assets/images/default.png';\n\n\n\nclass Article extends Component{\n\n\turl = Global.url;\n\n\tstate = {\n\t\tarticle: false,\n\t\tstatus: null\n\t};\n\n\tdateFormater(date){\n\t\tlet fDate= new Date(date);\n\t\treturn fDate.toString();\n\t}\n\n\n\tcomponentWillMount(){\n\t\tthis.getArticle();\n\t}\n\n\n\tgetArticle = () => {\n\t\tlet id = this.props.match.params.id;\n\t\tlet endpoint = this.url + '/article/' + id;\n\n\t\taxios.get(endpoint)\n\t\t.then(res => {\n\t\t\tthis.setState({\n\t\t\t\tarticle: res.data.article,\n\t\t\t\tstatus: 'success'\n\t\t\t});\n\t\t});\n\t};\n\n\n\tdeleteArticle = (id) => {\n\t\tswal({\n\t\t\ttitle: \"¿Está seguro?\",\n\t\t\ttext: \"El articulo se borrará de manera permanente\",\n\t\t\ticon: \"warning\",\n\t\t\tbuttons: true,\n\t\t\tdangerMode: true\n\t\t}).then( (willDelete) => {\n\t\t\tif(willDelete){\n\t\t\t\tlet endpoint = this.url + 'article/' + id;\n\t\t\t\taxios.delete(endpoint)\n\t\t\t\t\t.then( res => {\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tarticle: res.data.article,\n\t\t\t\t\t\t\tstatus: 'deleted'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\tswal(\n\t\t\t\t\t\"Artículo borrado\",\n\t\t\t\t\t\"El artículo se ha borrado correctamente.\",\n\t\t\t\t\t\"success\"\n\t\t\t\t);\n\t\t\t} else{\n\t\t\t\tswal(\n\t\t\t\t\t\"Tranquilo\",\n\t\t\t\t\t\"No se ha borrado nada.\",\n\t\t\t\t\t\"success\"\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t};\n\n\n\trender(){\n\n\t\tif(this.state.status === 'deleted'){\n\t\t\treturn <Redirect to='/blog' />\n\t\t} \n\n\t\tconst article = this.state.article;\n\t\treturn (\n\t\t\t<div className=\"center\">\n\t            <section id=\"content\">\n\t            \t{ article ? ( \n\t                    <article className=\"article-item article-detail\">\n\t                        <div className=\"image-wrap\">\n\t                        \t{ \n\t                        \t\tarticle.image != null ? (\n\t\t                        \t\t<img src={this.url+'get-image/'+article.image} alt={article.title}/>\n\t\t                        \t) : (\n\t\t                        \t\t<img src={ImageDefault}/>\n\t\t                        \t)\n\t                       \t\t}\n\t                        </div>\n\t    \n\t                        <h1 className=\"subheader\"> {article.title} </h1>\n\t                        <span className=\"date\">\n\t                        \t<Moment locale=\"es\" fromNow> \n\t                        \t\t{ this.dateFormater(article.date) } \n\t                        \t</Moment>\n\t                        </span>\n\t                        <p>\n\t                        \t{article.content}    \n\t                        </p>\n\n\t                        <button onClick={\n\t                        \t() => {\n\t                        \t\tthis.deleteArticle(article._id);\n\t                        \t}\n\t                        } \n\t                        className=\"btn btn-danger\">Eliminar</button>\n\n\t                        <Link to={'/blog/edit/' + article._id}  className=\"btn btn-warning\">Editar</Link>\n\t                    \n\t                        <div className=\"clearfix\"></div>\n\t                    </article> \n\n\t                    ) : (\n\t                    \t<article>\n\t                    \t\t<h2 className=\"subheader\">El artículo no existe</h2>\n\t                    \t\t<p>No se ha encontrado ningún artículo.</p>\n\t                    \t</article>\n\t                    )\n\t            \t}\n\t            </section>\n\n\t            <Sidebar />\n\n\t            <div className=\"clearfix\"></div>\n\t        </div>\n\t\t);\n\t}\n}\n\n\nexport default Article;"]},"metadata":{},"sourceType":"module"}